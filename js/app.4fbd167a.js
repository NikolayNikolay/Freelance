(function(){"use strict";var t={39:function(t,e,a){var n=a(9242),r=a(3396);const s={class:"container with-nav"};function o(t,e,a,n,o,i){const l=(0,r.up)("the-navbar"),u=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(l),(0,r._)("div",s,[(0,r.Wm)(u)])],64)}const i={class:"navbar"},l=(0,r._)("h3",null," Freelance ",-1),u={class:"navbar-menu"},c=(0,r.Uk)("Все задачи"),p=(0,r.Uk)("Создать");function d(t,e,a,n,s,o){const d=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("nav",i,[l,(0,r._)("ul",u,[(0,r._)("li",null,[(0,r.Wm)(d,{to:"/"},{default:(0,r.w5)((()=>[c])),_:1})]),(0,r._)("li",null,[(0,r.Wm)(d,{to:"/new"},{default:(0,r.w5)((()=>[p])),_:1})])])])}var f={},m=a(89);const v=(0,m.Z)(f,[["render",d]]);var k=v,g={components:{TheNavbar:k}};const w=(0,m.Z)(g,[["render",o]]);var y=w,_=a(678);const b={class:"card"},h=(0,r._)("h1",null,"Создать новую задачу",-1),D={class:"form-control"},T=(0,r._)("label",{for:"title"},"Название",-1),C={class:"form-control"},S=(0,r._)("label",{for:"date"},"Дата дэдлайна",-1),O={class:"form-control"},j=(0,r._)("label",{for:"description"},"Описание",-1),x=["disabled"];function I(t,e,a,s,o,i){return(0,r.wg)(),(0,r.iD)("form",b,[h,(0,r._)("div",D,[T,(0,r.wy)((0,r._)("input",{type:"text",id:"title","onUpdate:modelValue":e[0]||(e[0]=t=>s.name.nameTask=t)},null,512),[[n.nr,s.name.nameTask]])]),(0,r._)("div",C,[S,(0,r.wy)((0,r._)("input",{type:"date",id:"date","onUpdate:modelValue":e[1]||(e[1]=t=>s.name.dataCreate=t)},null,512),[[n.nr,s.name.dataCreate]])]),(0,r._)("div",O,[j,(0,r.wy)((0,r._)("textarea",{id:"description","onUpdate:modelValue":e[2]||(e[2]=t=>s.name.description=t)},null,512),[[n.nr,s.name.description]])]),(0,r._)("button",{class:"btn primary",onClick:e[3]||(e[3]=(0,n.iM)(((...t)=>s.createNewTask&&s.createNewTask(...t)),["prevent"])),disabled:!s.flagComputed}," Создать ",8,x)])}var U=a(6265),z=a.n(U),A=a(4870),H={setup(){const t=(0,A.qj)({nameTask:"",dataCreate:"",description:"",status:"primary"});async function e(){if(n.value){await z().post("https://registered-9e798-default-rtdb.firebaseio.com/task.json",t);for(const e in t)t[e]=""}}const a=(0,A.iH)(!1),n=(0,r.Fl)((()=>a.value));return(0,r.YP)(t,(t=>{t.nameTask&&t.dataCreate&&t.description?a.value=!0:a.value=!1})),{name:t,createNewTask:e,flagComputed:n}}};const N=(0,m.Z)(H,[["render",I]]);var W=N,Z=a(7139);const F={key:0,class:"text-white center"},P={class:"text-white"},Y={class:"sort-param card"},$=(0,r._)("option",null,"All",-1),J=(0,r._)("option",null,"Active",-1),V=[$,J],E={class:"card-title"},L=["onClick"];function M(t,e,a,s,o,i){const l=(0,r.up)("app-status");return s.task?((0,r.wg)(),(0,r.iD)(r.HY,{key:1},[(0,r._)("h3",P,"Всего активных задач: "+(0,Z.zw)(s.activeTask.length),1),(0,r._)("div",Y,[(0,r.wy)((0,r._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>s.sortStatus=t)},V,512),[[n.bM,s.sortStatus]])]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(s.task,(e=>((0,r.wg)(),(0,r.iD)("div",{class:"card",key:e.id},[(0,r._)("h2",E,[(0,r.Uk)((0,Z.zw)(e.nameTask)+" ",1),(0,r.Wm)(l,{type:e.status},null,8,["type"])]),(0,r._)("p",null,[(0,r._)("strong",null,[(0,r._)("small",null,(0,Z.zw)((new Date).toLocaleDateString())+" - "+(0,Z.zw)(new Date(e.dataCreate).toLocaleDateString()),1)])]),(0,r._)("button",{class:"btn primary",onClick:a=>t.$router.push(`/task/${e.id}`)}," Посмотреть ",8,L)])))),128))],64)):((0,r.wg)(),(0,r.iD)("h1",F,"Задач пока нет"))}function q(t,e,a,n,s,o){return(0,r.wg)(),(0,r.iD)("span",{class:(0,Z.C_)(["badge",a.type])},(0,Z.zw)(n.textType),3)}var K={props:["type"],setup(t){const e=(0,r.Fl)((()=>"primary"==t.type?"Активно":"danger"==t.type?"Завершено":"warning"==t.type?"Дедлайн":void 0));return{textType:e}}};const B=(0,m.Z)(K,[["render",q]]);var G=B,Q={setup(){const t=(0,A.iH)(),e=(0,A.iH)("All");(async function(){let e;const{data:a}=await z().get("https://registered-9e798-default-rtdb.firebaseio.com/task.json/");e=Object.keys(a).map((t=>({id:t,...a[t]}))),e.forEach((t=>{(new Date).getTime()>new Date(t.dataCreate).getTime()&&(t.status="danger")})),localStorage.setItem("task",JSON.stringify(e)),localStorage.getItem("task")&&(t.value=JSON.parse(localStorage.getItem("task")))})();const a=(0,r.Fl)((()=>{const e=t.value.filter((t=>"primary"===t.status));return e}));function n(){t.value=t.value.filter((t=>"primary"===t.status))}return(0,r.YP)(e,(e=>{"Active"==e?n():localStorage.getItem("task")&&(t.value=JSON.parse(localStorage.getItem("task")))})),{task:t,activeTask:a,sortStatus:e}},components:{AppStatus:G}};const R=(0,m.Z)(Q,[["render",M]]);var X=R;const tt={key:0,class:"card"},et=(0,r._)("strong",null,"Статус",-1),at=(0,r.Uk)(": "),nt=(0,r._)("strong",null,"Дэдлайн",-1),rt=(0,r._)("strong",null,"Описание",-1),st={key:1,class:"text-white center"},ot=(0,r.Uk)(" Задачи с id = "),it=(0,r.Uk)(" нет. ");function lt(t,e,a,n,s,o){const i=(0,r.up)("AppStatus");return n.taskID.id?((0,r.wg)(),(0,r.iD)("div",tt,[(0,r._)("h2",null,(0,Z.zw)(n.taskID.nameTask),1),(0,r._)("p",null,[et,at,(0,r.Wm)(i,{type:n.taskID.status},null,8,["type"])]),(0,r._)("p",null,[nt,(0,r.Uk)(": "+(0,Z.zw)(new Date(n.taskID.dataCreate).toLocaleDateString()),1)]),(0,r._)("p",null,[rt,(0,r.Uk)(": "+(0,Z.zw)(n.taskID.description),1)]),(0,r._)("div",null,[(0,r._)("button",{class:"btn",onClick:e[0]||(e[0]=t=>n.removeTask("primary"))},"Взять в работу"),(0,r._)("button",{class:"btn primary",onClick:e[1]||(e[1]=t=>n.removeTask("danger"))}," Завершить "),(0,r._)("button",{class:"btn danger",onClick:e[2]||(e[2]=t=>n.removeTask("warning"))}," Отменить ")])])):((0,r.wg)(),(0,r.iD)("h3",st,[ot,(0,r._)("strong",null,(0,Z.zw)(t.$route.params.id),1),it]))}var ut={setup(){const t=(0,_.yj)(),e=(0,A.iH)(JSON.parse(localStorage.getItem("task")).find((e=>e.id===t.params.id))),a=(0,A.iH)();async function n(n){try{a.value=await z().get(`https://registered-9e798-default-rtdb.firebaseio.com/task/${t.params.id}.json`),a.value.data.status=n,e.value.status=n,await z().put(`https://registered-9e798-default-rtdb.firebaseio.com/task/${t.params.id}.json`,a.value.data)}catch(r){console.log(r)}}return{taskID:e.value,removeTask:n}},components:{AppStatus:G}};const ct=(0,m.Z)(ut,[["render",lt]]);var pt=ct;const dt=(0,_.p7)({history:(0,_.PO)(),routes:[{path:"/new",component:W},{path:"/",component:X,alias:"/"},{path:"/task/:id?",component:pt}],linkActiveClass:"active",linkExactActiveClass:"active"});var ft=dt;(0,n.ri)(y).use(ft).mount("#app")}},e={};function a(n){var r=e[n];if(void 0!==r)return r.exports;var s=e[n]={exports:{}};return t[n](s,s.exports,a),s.exports}a.m=t,function(){var t=[];a.O=function(e,n,r,s){if(!n){var o=1/0;for(c=0;c<t.length;c++){n=t[c][0],r=t[c][1],s=t[c][2];for(var i=!0,l=0;l<n.length;l++)(!1&s||o>=s)&&Object.keys(a.O).every((function(t){return a.O[t](n[l])}))?n.splice(l--,1):(i=!1,s<o&&(o=s));if(i){t.splice(c--,1);var u=r();void 0!==u&&(e=u)}}return e}s=s||0;for(var c=t.length;c>0&&t[c-1][2]>s;c--)t[c]=t[c-1];t[c]=[n,r,s]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,n){var r,s,o=n[0],i=n[1],l=n[2],u=0;if(o.some((function(e){return 0!==t[e]}))){for(r in i)a.o(i,r)&&(a.m[r]=i[r]);if(l)var c=l(a)}for(e&&e(n);u<o.length;u++)s=o[u],a.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return a.O(c)},n=self["webpackChunkfrelanse_my"]=self["webpackChunkfrelanse_my"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(39)}));n=a.O(n)})();
//# sourceMappingURL=app.4fbd167a.js.map